<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="Rw8iTPmlG2WXcRwX4Lonlx4h9PXpMWxYuRx1ktlvWTY" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          빠져 있는 장 - Songi | Song&#39;s Tech Blog
        
    </title>

    <link rel="canonical" href="https://songii00.github.io/2019/11/28/CleanArchitecture Item 34/">

    <!-- Bootstrap Core CSS -->
    
<link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Custom CSS -->
    
<link rel="stylesheet" href="/css/hux-blog.min.css">


    <!-- Pygments Highlight CSS -->
    
<link rel="stylesheet" href="/css/highlight.css">


    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Song&#39;s Tech Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="https://songii00.github.io/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/home-bg.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#CleanArchitecture" title="CleanArchitecture">CleanArchitecture</a>
                        
                    </div>
                    <h1>빠져 있는 장</h1>
                    <h2 class="subheading">Clean Architecture - Item 34</h2>
                    <span class="meta">
                        Posted by Songi on
                        2019-11-28
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <h3 id="“CleanArchitecture-34장”"><a href="#“CleanArchitecture-34장”" class="headerlink" title="“CleanArchitecture 34장”"></a>“CleanArchitecture 34장”</h3><hr>
<h3 id="사례-설정"><a href="#사례-설정" class="headerlink" title="사례 설정"></a>사례 설정</h3><ul>
<li>온라인 서점</li>
<li>고객이 주문 상태를 조회할 수 있는 유스케이스 구현</li>
</ul>
<span id="more"></span>
<h3 id="계층-기반-패키지"><a href="#계층-기반-패키지" class="headerlink" title="계층 기반 패키지"></a>계층 기반 패키지</h3><h4 id="수평-계층형-아키텍처"><a href="#수평-계층형-아키텍처" class="headerlink" title="수평 계층형 아키텍처"></a>수평 계층형 아키텍처</h4><p>기술적인 관점에서 해당 코드가 하는 일에 기반해 코드를 분할한다.</p>
<blockquote>
<p>계층 기반 패키지</p>
</blockquote>
<p><img src="7.png" alt=""></p>
<ul>
<li>계층 이라는 얇은 수평 조각으로 나뉨</li>
<li>각 계층은 유사한 종류의 것을 묶음</li>
<li>엄격한 계층형 아키텍처의 경우 반드시 바로 아래 계층에만 의존</li>
<li>자바의 경우 계층은 패키지로 구현</li>
<li>계층 사이의 의존성은 모두 아래를 향함</li>
<li>프레젠테이션 도메인 데이터 계층화에서 처음 시작하기에 적합</li>
<li>다만 소프트웨어가 복잡해지고 커지면 더 세분화된 모듈화를 고민해야 함</li>
<li>업무 도메인에 대해 말해주지 않음</li>
<li>전혀 다른 업무 도메인이 웹, 서비스, 리포지터리로 모두 비슷하게 구성</li>
</ul>
<h3 id="기능-기반-패키지"><a href="#기능-기반-패키지" class="headerlink" title="기능 기반 패키지"></a>기능 기반 패키지</h3><p>서로 연관된 기능, 도메인 개념 또는 Aggregate Root에 기반하여 수직의 얇은 조각으로 코드를 나누는 방식이다.</p>
<p><img src="8.png" alt=""></p>
<ul>
<li>모든 타입이 하나의 자바 패키지에 속함</li>
<li>코드의 상위 수준 구조가 업무 도메인에 대해 알려줌</li>
<li>주문 조회하기 유스케이스를 변경할 때 변경해야 할 코드가 모두 한 패키지에 담김</li>
</ul>
<h4 id="aggregate-root"><a href="#aggregate-root" class="headerlink" title="aggregate root"></a>aggregate root</h4><ul>
<li>데이터 변경의 단위로 다루는 연관 객체의 묶음</li>
<li>모든 Aggregate는 Root를 가짐</li>
<li>외부에서 객체를 접근 시 반드시 Aggregate root를 통해야함</li>
</ul>
<p><img src="9.png" alt=""></p>
<h5 id="aggregate-더-알아보기-gt-https-medium-com-SlackBeck-EC-95-A0-EA-B7-B8-EB-A6-AC-EA-B2-8C-EC-9E-87-ED-95-98-EB…"><a href="#aggregate-더-알아보기-gt-https-medium-com-SlackBeck-EC-95-A0-EA-B7-B8-EB-A6-AC-EA-B2-8C-EC-9E-87-ED-95-98-EB…" class="headerlink" title="aggregate 더 알아보기 &gt; https://medium.com/@SlackBeck/%EC%95%A0%EA%B7%B8%EB%A6%AC%EA%B2%8C%EC%9E%87-%ED%95%98%EB… "></a>aggregate 더 알아보기 &gt; <a target="_blank" rel="noopener" href="https://medium.com/@SlackBeck/%EC%95%A0%EA%B7%B8%EB%A6%AC%EA%B2%8C%EC%9E%87-%ED%95%98%EB%82%98%EC%97%90-%EB%A6%AC%ED%8C%8C%EC%A7%80%ED%86%A0%EB%A6%AC-%ED%95%98%EB%82%98-f97a69662f63">https://medium.com/@SlackBeck/%EC%95%A0%EA%B7%B8%EB%A6%AC%EA%B2%8C%EC%9E%87-%ED%95%98%EB…</a> <br/></h5><h3 id="포트와-어댑터"><a href="#포트와-어댑터" class="headerlink" title="포트와 어댑터"></a>포트와 어댑터</h3><p><img src="10.png" alt=""></p>
<p>포트와 어댑터, 육각형 아키택처 등의 방식으로 접근하는 이유 -&gt; 업무 / 도메인에 초점을 둔 코드가 프레임워크나 데이터베이스 같은 기술적 세부 구현과 독립적이며 분리된 아키텍처를 만들기 위함</p>
<h5 id="포트와-어댑터-더-알아보기-gt-http-getoutsidedoor-com-2018-09-03-ports-adapters-architecture"><a href="#포트와-어댑터-더-알아보기-gt-http-getoutsidedoor-com-2018-09-03-ports-adapters-architecture" class="headerlink" title="포트와 어댑터 더 알아보기 &gt; http://getoutsidedoor.com/2018/09/03/ports-adapters-architecture/ "></a>포트와 어댑터 더 알아보기 &gt; <a target="_blank" rel="noopener" href="http://getoutsidedoor.com/2018/09/03/ports-adapters-architecture/">http://getoutsidedoor.com/2018/09/03/ports-adapters-architecture/</a> <br/></h5><p>요약하자면, 코드는 내부(도메인)와 외부(인프라)로 구성된다.</p>
<p><img src="11.png" alt=""></p>
<ul>
<li>내부 : 도메인 개념</li>
<li>외부 : ex) 데이터베이스, UI 등과의 상호작용 포함</li>
</ul>
<blockquote>
<p>외부가 내부에 의존하며, 절대로 그 반대로는 안된다.</p>
</blockquote>
<p><img src="12.png" alt=""></p>
<ul>
<li>com.mycompany.myapp.domain : 내부</li>
<li>나머지 패키지 : 외부</li>
<li>의존성 : 외부 -&gt; 내부</li>
<li>유비쿼터스 도메인 언어</li>
</ul>
<p><img src="19.png" alt=""></p>
<h3 id="컴포넌트-기반-패키지"><a href="#컴포넌트-기반-패키지" class="headerlink" title="컴포넌트 기반 패키지"></a>컴포넌트 기반 패키지</h3><h4 id="완화된-계층형-아키텍처"><a href="#완화된-계층형-아키텍처" class="headerlink" title="완화된 계층형 아키텍처"></a>완화된 계층형 아키텍처</h4><p><img src="13.png" alt=""></p>
<ul>
<li><p>계층과 인접한 계층들을 건너뛰는 일이 허용</p>
</li>
<li><p>의존성 화살표는 아래를 향함</p>
</li>
<li><p>OrdersController가 OdersService 우회</p>
</li>
<li><p>경우에 따라서는 의도된 상황 &gt; CQRS 패턴 : Command Query Responsibility Segregation</p>
<p>데이터를 변경하고 조회하는 패턴을 서로 분리</p>
<p>커맨드 ( <strong>C</strong>reate - Insert, <strong>U</strong>pdate, <strong>D</strong>elete : 데이터를 변경) 와 쿼리 ( Select - <strong>R</strong>ead : 데이터를 조회)의 책임을 분리</p>
</li>
</ul>
<h5 id="CQRS-패턴-더-알아보기-gt-https-www-popit-kr-cqrs-eventsourcing"><a href="#CQRS-패턴-더-알아보기-gt-https-www-popit-kr-cqrs-eventsourcing" class="headerlink" title="CQRS 패턴 더 알아보기 &gt; https://www.popit.kr/cqrs-eventsourcing/ "></a>CQRS 패턴 더 알아보기 &gt; <a target="_blank" rel="noopener" href="https://www.popit.kr/cqrs-eventsourcing/">https://www.popit.kr/cqrs-eventsourcing/</a> <br/></h5><h4 id="예방책"><a href="#예방책" class="headerlink" title="예방책"></a>예방책</h4><ul>
<li>아키택처 원칙이 필요</li>
<li>예를 들어 “웹 컨트롤러는 절대로 리포지터리에 접근해서는 안된다”</li>
<li>정적 분석 도구(NDepend, Structure101, Checkstyle)</li>
<li>컴파일러를 사용해 아키텍처를 강제하는 방법을 추천</li>
</ul>
<p>위와 같은 이유로 컴포넌트 기반 패키지를 도입해야 한다. </p>
<p><img src="14.png" alt=""></p>
<ul>
<li>큰 단위의 단일 컴포넌트와 관련된 모든 책임을 하나의 자바 패키지로 묶는데 중점</li>
<li>서비스 중심적인 시각으로 소프트웨어 시스템을 바라봄</li>
<li>사용자 인터페이스를 큰 단위의 컴포넌트로부터 분리해서 유지 </li>
<li>업무 로직과 영속성 관련 코드를 하나로 묶음 &gt; 컴포넌트</li>
</ul>
<blockquote>
<p>컴포넌트는 멋지고 깔끔한 인터페이스로 감싸진 연관된 기능들의 묶음으로, 애플리케이션과 같은 실행 환경 내부에 존재한다.</p>
</blockquote>
<h4 id="C4-소프트웨어-아키텍처-모델"><a href="#C4-소프트웨어-아키텍처-모델" class="headerlink" title="C4 소프트웨어 아키텍처 모델"></a>C4 소프트웨어 아키텍처 모델</h4><ul>
<li>시스템의 정적 구조를 컨테이너, 컴포넌트, 클래스(혹은 코드)의 측면에서 계층적으로 생각</li>
<li>시스템은 하나 이상의 컨테이너(웹 애플리케이션, 모바일 앱, 데이터베이스 등)으로 구성</li>
<li>각 컨테이너는 하나 이상의 컴포넌트를 포함</li>
<li>각 컴포넌트는 하나 이상의 클래스(혹은 코드)로 구현</li>
<li>주문과 관련된 코딩 시 OrdersComponentaks , 즉 한곳만 보면 됨</li>
</ul>
<h3 id="구현-세부사항엔-항상-문제가-있다"><a href="#구현-세부사항엔-항상-문제가-있다" class="headerlink" title="구현 세부사항엔 항상 문제가 있다."></a>구현 세부사항엔 항상 문제가 있다.</h3><h4 id="public-접근-지시자"><a href="#public-접근-지시자" class="headerlink" title="public 접근 지시자"></a>public 접근 지시자</h4><blockquote>
<p>모든 타입에서 public 지시자를 사용한다는 건 사용하는 프로그래밍 언어가 제공하는 캡슐화 관련 이점을 활용하지 않겠다는 뜻이다. </p>
</blockquote>
<h3 id="조직화-vs-캡슐화"><a href="#조직화-vs-캡슐화" class="headerlink" title="조직화 vs 캡슐화"></a>조직화 vs 캡슐화</h3><p><img src="15.png" alt=""></p>
<p>네 개의 아키텍처 접근법이 모두 동일하다. 이처럼 모든 타입을 public 으로 선언한다면, 우리가 실제로 갖게 되는 것은 수평적 계층형 아키텍처를 표현하는 네가지 방식일 뿐이다. </p>
<p><img src="16.png" alt=""></p>
<ul>
<li>계층 기반 패키지 접근법 </li>
<li>기능 기반 패키지 접근법</li>
<li>포트와 어댑터</li>
<li>컴포넌트 기반 패키지 접근법</li>
</ul>
<h3 id="다른-결합-분리-모드"><a href="#다른-결합-분리-모드" class="headerlink" title="다른 결합 분리 모드"></a>다른 결합 분리 모드</h3><ul>
<li><p>자바의 OSGi 모듈 프레임워크</p>
<p>Open Service Gateway initiative</p>
<p>한 개의 번들 또는 여러 개의 번들로 이루어진 애플리케이션 자체를 언제든지 동적으로 프레임워크상에 설치, 실행, 업데이트, 중단, 제거하는 것을 가능하게 하는 매우 유연한 라이프 사이클 모델을 지원하는 프레임워크</p>
<p>ex) Eclipse, IntelliJIDEA</p>
</li>
<li><p>자바9 에서 제공하는 새로운 모듈 시스템</p>
</li>
</ul>
<p>모듈 시스템을 제대로 사용하면, public 타입과 외부에 공표할 타입을 분리 할 수 있다. </p>
<p>ex) Orders 모듈 생성 시 모든 타입을 public 으로 지정하더라도 그 중 일부 타입만을 외부에서 사용할 수있도록 공표</p>
<ul>
<li><p>소스 코드 수준에서의 의존성 분리 </p>
<p>업무 도메인 용 소스코드 : OrderService, OrderServiceImpl, Orders</p>
<p>웹용 소스코드 : OrderController</p>
<p>데이터 영속성용 소스 코드 : JdbcOrdersRepository</p>
</li>
<li><p>포트와 어댑터 접근법 적용</p>
<p>도메인 코드(내부)</p>
<p>인프라 코드(외부)</p>
<ul>
<li>절충이 필요 : 포트와 어댑터에 대한 페리페리크 안티 패턴</li>
<li>웹 컨트롤러 같은 인프라 코드가 애플리케이션의 다른 영역 데이터베이스 등이 있는 코드를 직접 호출 할 수 있음</li>
<li>도메인을 통하지 않음</li>
</ul>
<p><img src="11.png" alt=""></p>
</li>
</ul>
<h3 id="결론"><a href="#결론" class="headerlink" title="결론"></a>결론</h3><p>최적의 설계를 했더라도 구현 전략에 얽힌 복잡함을 고려하자. 가능하다면 선택사항을 열어두되, 실용적으로 행동해야 한다. 또한 선택된 아키텍처 스타일을 강제하는데 컴파일러의 도움을 받을수 있을지 고민하며, 데이터 모델과 같은 다른 영역에 결합되지 않도록 주의하자. </p>
<blockquote>
<p>구현의 세부사항에는 항상 문제가 있는 법이다.</p>
</blockquote>


                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2020/01/14/OBJECTS Item 01/" data-toggle="tooltip" data-placement="top" title="객체, 설계">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2019/11/28/CleanArchitecture Item 33/" data-toggle="tooltip" data-placement="top" title="사례 연구 : 비디오 판매">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

            </div>
    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#CleanArchitecture" title="CleanArchitecture">CleanArchitecture</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>

        </div>
    </div>
</article>




<!-- disqus 公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = "jeans-blog";
    var disqus_identifier = "https://songii00.github.io/2019/11/28/CleanArchitecture%20Item%2034/";
    var disqus_url = "https://songii00.github.io/2019/11/28/CleanArchitecture%20Item%2034/";

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<!-- disqus 公共JS代码 end -->




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                
                
                

                

                

                
                    <li>
                        <a target="_blank"  href="https://github.com/songii00">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Song&#39;s Tech Blog 2022 
                    <br>
                    Theme by <a target="_blank" rel="noopener" href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    Ported by <a href="/">Songi</a> | 
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://songii00.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-145886411-1';
    var _gaDomain = 'huangxuan.me';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Side Catalog -->





<!-- Image to hack wechat -->
<img src="https://songii00.github.io/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
